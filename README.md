See http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-core/34593.
